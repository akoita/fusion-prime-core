[
  {
    "name": "event_id",
    "type": "STRING",
    "mode": "REQUIRED",
    "description": "Unique event identifier"
  },
  {
    "name": "account_ref",
    "type": "STRING",
    "mode": "REQUIRED",
    "description": "Pseudonymized account reference ID"
  },
  {
    "name": "event_type",
    "type": "STRING",
    "mode": "REQUIRED",
    "description": "Event type: MARGIN_CALL, LIQUIDATION, or RECOVERY"
  },
  {
    "name": "event_timestamp",
    "type": "TIMESTAMP",
    "mode": "REQUIRED",
    "description": "Timestamp when the event occurred"
  },
  {
    "name": "margin_health_before",
    "type": "FLOAT64",
    "mode": "NULLABLE",
    "description": "Margin health score before the event"
  },
  {
    "name": "margin_health_after",
    "type": "FLOAT64",
    "mode": "NULLABLE",
    "description": "Margin health score after the event"
  },
  {
    "name": "trigger_reason",
    "type": "STRING",
    "mode": "NULLABLE",
    "description": "Reason that triggered the event"
  },
  {
    "name": "resolution_status",
    "type": "STRING",
    "mode": "NULLABLE",
    "description": "Resolution status: PENDING, RESOLVED, LIQUIDATED"
  },
  {
    "name": "resolved_at",
    "type": "TIMESTAMP",
    "mode": "NULLABLE",
    "description": "Timestamp when the event was resolved"
  }
]

