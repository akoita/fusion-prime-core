# Testnet Environment Configuration
# Fusion Prime Testnet Deployment

# Blockchain Configuration (Sepolia)
ETH_RPC_URL=https://sepolia.infura.io/v3/6c474ab8fd5f48b294e1a082adc2c826
# Alternative RPC providers:
# ETH_RPC_URL=https://sepolia.g.alchemy.com/v2/YOUR_ALCHEMY_KEY
# ETH_RPC_URL=https://sepolia.infura.io/v3/6c474ab8fd5f48b294e1a082adc2c826

# Database Configuration (Cloud SQL)
DATABASE_URL="postgresql://settlement_user:AB0X$tefZnv>i(wIa@xof-YZTkewNNUm@/settlement_db?host=/cloudsql/fusion-prime:us-central1:fusion-prime-db-a504713e"
TESTNET_DB_HOST=fusion-prime:us-central1:fusion-prime-db-a504713e
TESTNET_DB_NAME=settlement_db
TESTNET_DB_USER=settlement_user
TESTNET_DB_PASSWORD="AB0X$tefZnv>i(wIa@xof-YZTkewNNUm"

# Service URLs (Deployed Services)
SETTLEMENT_SERVICE_URL=https://settlement-service-961424092563.us-central1.run.app
TESTNET_RELAYER_SERVICE_URL=https://escrow-event-relayer-961424092563.us-central1.run.app
RELAYER_SERVICE_URL=https://escrow-event-relayer-961424092563.us-central1.run.app

# Google Cloud Configuration
TESTNET_PUBSUB_PROJECT_ID=fusion-prime
# GOOGLE_APPLICATION_CREDENTIALS=/path/to/your/service-account-key.json

# Contract Addresses (Deployed on Sepolia)
ESCROW_FACTORY_ADDRESS=0x740ca091aC2371524a6E1aAE1BBC3c2308C2d9A5
ESCROW_FACTORY_ABI=[{"type": "function", "name": "allEscrows", "inputs": [{"name": "", "type": "uint256", "internalType": "uint256"}], "outputs": [{"name": "", "type": "address", "internalType": "address"}], "stateMutability": "view"}, {"type": "function", "name": "computeEscrowAddress", "inputs": [{"name": "payer", "type": "address", "internalType": "address"}, {"name": "payee", "type": "address", "internalType": "address"}, {"name": "releaseDelay", "type": "uint256", "internalType": "uint256"}, {"name": "approvalsRequired", "type": "uint8", "internalType": "uint8"}, {"name": "arbiter", "type": "address", "internalType": "address"}, {"name": "salt", "type": "bytes32", "internalType": "bytes32"}], "outputs": [{"name": "predicted", "type": "address", "internalType": "address"}], "stateMutability": "view"}, {"type": "function", "name": "createEscrow", "inputs": [{"name": "payee", "type": "address", "internalType": "address"}, {"name": "releaseDelay", "type": "uint256", "internalType": "uint256"}, {"name": "approvalsRequired", "type": "uint8", "internalType": "uint8"}, {"name": "arbiter", "type": "address", "internalType": "address"}], "outputs": [{"name": "escrow", "type": "address", "internalType": "address"}], "stateMutability": "payable"}, {"type": "function", "name": "createEscrowDeterministic", "inputs": [{"name": "payee", "type": "address", "internalType": "address"}, {"name": "releaseDelay", "type": "uint256", "internalType": "uint256"}, {"name": "approvalsRequired", "type": "uint8", "internalType": "uint8"}, {"name": "arbiter", "type": "address", "internalType": "address"}, {"name": "salt", "type": "bytes32", "internalType": "bytes32"}], "outputs": [{"name": "escrow", "type": "address", "internalType": "address"}], "stateMutability": "payable"}, {"type": "function", "name": "getEscrowCount", "inputs": [], "outputs": [{"name": "", "type": "uint256", "internalType": "uint256"}], "stateMutability": "view"}, {"type": "function", "name": "getEscrows", "inputs": [{"name": "offset", "type": "uint256", "internalType": "uint256"}, {"name": "limit", "type": "uint256", "internalType": "uint256"}], "outputs": [{"name": "", "type": "address[]", "internalType": "address[]"}], "stateMutability": "view"}, {"type": "function", "name": "getUserEscrows", "inputs": [{"name": "user", "type": "address", "internalType": "address"}], "outputs": [{"name": "", "type": "address[]", "internalType": "address[]"}], "stateMutability": "view"}, {"type": "function", "name": "isEscrow", "inputs": [{"name": "", "type": "address", "internalType": "address"}], "outputs": [{"name": "", "type": "bool", "internalType": "bool"}], "stateMutability": "view"}, {"type": "function", "name": "userEscrows", "inputs": [{"name": "", "type": "address", "internalType": "address"}, {"name": "", "type": "uint256", "internalType": "uint256"}], "outputs": [{"name": "", "type": "address", "internalType": "address"}], "stateMutability": "view"}, {"type": "event", "name": "EscrowDeployed", "inputs": [{"name": "escrow", "type": "address", "indexed": true, "internalType": "address"}, {"name": "payer", "type": "address", "indexed": true, "internalType": "address"}, {"name": "payee", "type": "address", "indexed": true, "internalType": "address"}, {"name": "amount", "type": "uint256", "indexed": false, "internalType": "uint256"}, {"name": "releaseDelay", "type": "uint256", "indexed": false, "internalType": "uint256"}, {"name": "approvalsRequired", "type": "uint8", "indexed": false, "internalType": "uint8"}], "anonymous": false}, {"type": "error", "name": "DeploymentFailed", "inputs": []}, {"type": "error", "name": "InvalidParameters", "inputs": []}]


# Test Configuration
TEST_ACCOUNTS=0x70997970C51812dc3A010C7d01b50e0d17dc79C8,0x3C44CdDdB6a900fa2b585dd299e03d12FA4293BC
TEST_AMOUNT_ETH=0.001
MAX_GAS_PRICE_GWEI=50

PAYER_PRIVATE_KEY=0x4e3e37bbc5eb0f15ea3793942aab858ef0e8025027a972234fdf3d2bbc3d12a8

# Security
SSL_MODE=require
ENABLE_SSL=true

# Environment Label
ENVIRONMENT=testnet

# Additional Pub/Sub Configuration
PUBSUB_PROJECT_ID=fusion-prime
GCP_PROJECT=fusion-prime
PUBSUB_TOPIC=settlement.events.v1
SETTLEMENT_SUBSCRIPTION=settlement-events-consumer

# Chain Configuration
CHAIN_ID=11155111

# Use Application Default Credentials for testing
# Run: gcloud auth application-default login
PAYEE_ADDRESS=0x70997970C51812dc3A010C7d01b50e0d17dc79C8


SETTLEMENT_SERVICE_URL=https://settlement-service-961424092563.us-central1.run.app
RISK_ENGINE_SERVICE_URL=https://risk-engine-service-961424092563.us-central1.run.app
COMPLIANCE_SERVICE_URL=https://compliance-service-961424092563.us-central1.run.app
RELAYER_SERVICE_URL=https://event-relayer-961424092563.us-central1.run.app
GCP_PROJECT=fusion-prime
GCP_REGION=us-central1
